const _0x563557=_0x4f36;function _0x4f36(_0x3bc68c,_0x572067){const _0x2cacff=_0x2cac();return _0x4f36=function(_0x4f36fa,_0x4288d0){_0x4f36fa=_0x4f36fa-0x1b5;let _0x5c6d69=_0x2cacff[_0x4f36fa];return _0x5c6d69;},_0x4f36(_0x3bc68c,_0x572067);}(function(_0x473e1d,_0x4373ec){const _0x3f7c5d=_0x4f36,_0x392dd3=_0x473e1d();while(!![]){try{const _0x429ff3=-parseInt(_0x3f7c5d(0x1c5))/0x1*(-parseInt(_0x3f7c5d(0x1d4))/0x2)+parseInt(_0x3f7c5d(0x1bf))/0x3+-parseInt(_0x3f7c5d(0x1b7))/0x4+parseInt(_0x3f7c5d(0x1c4))/0x5+-parseInt(_0x3f7c5d(0x1b9))/0x6*(-parseInt(_0x3f7c5d(0x1d1))/0x7)+parseInt(_0x3f7c5d(0x1cf))/0x8*(parseInt(_0x3f7c5d(0x1d9))/0x9)+parseInt(_0x3f7c5d(0x1ce))/0xa*(-parseInt(_0x3f7c5d(0x1c0))/0xb);if(_0x429ff3===_0x4373ec)break;else _0x392dd3['push'](_0x392dd3['shift']());}catch(_0x5db447){_0x392dd3['push'](_0x392dd3['shift']());}}}(_0x2cac,0x1d832));function _0x2cac(){const _0x29b08c=['copyFileSync','https://api.github.com/repos/DybyTech/MEGALODON-MD/commits/main','config.js','121212kfXiVz','13651XtBzGc','üîç\x20Checking\x20for\x20MEGALODON-MD\x20updates...','‚ùå\x20Update\x20failed.\x20Please\x20try\x20manually.','get','235120xwDQyc','38YndcWx','rmSync','path','app.json','existsSync','writeFileSync','adm-zip','misc','üîÑ\x20Replacing\x20files...','430gBCDFP','8oEbipf','üì¶\x20Extracting\x20the\x20latest\x20code...','7GFxysL','upgrade','join','5868PqAMgP','latest.zip','lstatSync','sync','readdirSync','698841cMTybq','This\x20command\x20is\x20only\x20for\x20the\x20bot\x20owner.','sha','\x20to\x20preserve\x20custom\x20settings.','update','axios','isDirectory','843932sGCvyU','exit','651954VwVlMK','arraybuffer','Skipping\x20'];_0x2cac=function(){return _0x29b08c;};return _0x2cac();}const {cmd}=require('../command'),axios=require(_0x563557(0x1b5)),fs=require('fs'),path=require(_0x563557(0x1c7)),AdmZip=require(_0x563557(0x1cb)),{setCommitHash,getCommitHash}=require('../data/updateDB');cmd({'pattern':_0x563557(0x1dd),'alias':[_0x563557(0x1d2),_0x563557(0x1d7)],'react':'üÜï','desc':'Update\x20the\x20bot\x20to\x20the\x20latest\x20version.','category':_0x563557(0x1cc),'filename':__filename},async(_0x44cedd,_0x33cc7a,_0x24c349,{reply:_0x26def6,isOwner:_0x441a2a})=>{const _0x503948=_0x563557;if(!_0x441a2a)return _0x26def6(_0x503948(0x1da));try{await _0x26def6(_0x503948(0x1c1));const {data:_0x2a7508}=await axios['get'](_0x503948(0x1bd)),_0x1a7597=_0x2a7508[_0x503948(0x1db)],_0x44b9e9=await getCommitHash();if(_0x1a7597===_0x44b9e9)return _0x26def6('‚úÖ\x20Your\x20MEGALODON-MD\x20bot\x20is\x20already\x20up-to-date!');await _0x26def6('MEGALODON\x20MD\x20UPDATING\x20WAIT\x20PLS\x20üë®‚Äçüíª...');const _0x586c6d=path[_0x503948(0x1d3)](__dirname,_0x503948(0x1d5)),{data:_0xcac14b}=await axios[_0x503948(0x1c3)]('https://github.com/DybyTech/MEGALODON-MD/archive/main.zip',{'responseType':_0x503948(0x1ba)});fs[_0x503948(0x1ca)](_0x586c6d,_0xcac14b),await _0x26def6(_0x503948(0x1d0));const _0x4daa52=path[_0x503948(0x1d3)](__dirname,'latest'),_0x4c9bc5=new AdmZip(_0x586c6d);_0x4c9bc5['extractAllTo'](_0x4daa52,!![]),await _0x26def6(_0x503948(0x1cd));const _0x458b30=path['join'](_0x4daa52,'MEGALODON-MD-main'),_0x57fdc3=path[_0x503948(0x1d3)](__dirname,'..');copyFolderSync(_0x458b30,_0x57fdc3),await setCommitHash(_0x1a7597),fs['unlinkSync'](_0x586c6d),fs[_0x503948(0x1c6)](_0x4daa52,{'recursive':!![],'force':!![]}),await _0x26def6('‚úÖ\x20Update\x20complete!\x20Restarting\x20the\x20bot...'),process[_0x503948(0x1b8)](0x0);}catch(_0x14de94){return console['error']('Update\x20error:',_0x14de94),_0x26def6(_0x503948(0x1c2));}});function copyFolderSync(_0x587a8e,_0x3bee31){const _0x33eb97=_0x563557;!fs[_0x33eb97(0x1c9)](_0x3bee31)&&fs['mkdirSync'](_0x3bee31,{'recursive':!![]});const _0x4a89a0=fs[_0x33eb97(0x1d8)](_0x587a8e);for(const _0x416755 of _0x4a89a0){const _0x577747=path[_0x33eb97(0x1d3)](_0x587a8e,_0x416755),_0x3e0671=path[_0x33eb97(0x1d3)](_0x3bee31,_0x416755);if(_0x416755===_0x33eb97(0x1be)||_0x416755===_0x33eb97(0x1c8)||_0x416755==='package.json'){console['log'](_0x33eb97(0x1bb)+_0x416755+_0x33eb97(0x1dc));continue;}fs[_0x33eb97(0x1d6)](_0x577747)[_0x33eb97(0x1b6)]()?copyFolderSync(_0x577747,_0x3e0671):fs[_0x33eb97(0x1bc)](_0x577747,_0x3e0671);}}
